!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function P(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=s),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),i=n.data(k);i||(i=new D(this,t),n.data(k,i))})}function D(t,g){function ne(t){if(!(Ie()||e(t.target).closest(g.excludedElements,W).length>0)){var i,n=t.originalEvent?t.originalEvent:t,r=n.touches,l=r?r[0]:n;return X=T,r?Y=r.length:g.preventDefaultEvents!==!1&&t.preventDefault(),A=0,R=null,j=null,q=null,I=0,U=0,N=0,H=1,$=0,F=We(),Re(),Ne(0,l),!r||Y===g.fingers||g.fingers===b||we()?(z=Je(),2==Y&&(Ne(1,r[1]),U=N=Ve(V[0].start,V[1].start)),(g.swipeStatus||g.pinchStatus)&&(i=ue(n,X))):i=!1,i===!1?(X=E,ue(n,X),i):(g.hold&&(ee=setTimeout(e.proxy(function(){W.trigger("hold",[n.target]),g.hold&&(i=g.hold.call(W,n,n.target))},this),g.longTapThreshold)),Ue(!0),null)}}function ie(e){var t=e.originalEvent?e.originalEvent:e;if(X!==S&&X!==E&&!je()){var n,i=t.touches,r=i?i[0]:t,l=He(r);if(B=Je(),i&&(Y=i.length),g.hold&&clearTimeout(ee),X=y,2==Y&&(0==U?(Ne(1,i[1]),U=N=Ve(V[0].start,V[1].start)):(He(i[1]),N=Ve(V[0].end,V[1].end),q=Be(V[0].end,V[1].end)),H=ze(U,N),$=Math.abs(U-N)),Y===g.fingers||g.fingers===b||!i||we()){if(R=Ze(l.start,l.end),j=Ze(l.last,l.end),ge(e,j),A=Ge(l.start,l.end),I=Ye(),qe(R,A),n=ue(t,X),!g.triggerOnTouchEnd||g.triggerOnTouchLeave){var a=!0;if(g.triggerOnTouchLeave){var o=et(this);a=tt(l.end,o)}!g.triggerOnTouchEnd&&a?X=se(y):g.triggerOnTouchLeave&&!a&&(X=se(S)),(X==E||X==S)&&ue(t,X)}}else X=E,ue(t,X);n===!1&&(X=E,ue(t,X))}}function re(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;if(n){if(n.length&&!je())return Ae(t),!0;if(n.length&&je())return!0}return je()&&(Y=K),B=Je(),I=Ye(),de()||!ce()?(X=E,ue(t,X)):g.triggerOnTouchEnd||g.triggerOnTouchEnd===!1&&X===y?(g.preventDefaultEvents!==!1&&e.preventDefault(),X=S,ue(t,X)):!g.triggerOnTouchEnd&&xe()?(X=S,fe(t,X,d)):X===y&&(X=E,ue(t,X)),Ue(!1),null}function le(){Y=0,B=0,z=0,U=0,N=0,H=1,Re(),Ue(!1)}function ae(e){var t=e.originalEvent?e.originalEvent:e;g.triggerOnTouchLeave&&(X=se(S),ue(t,X))}function oe(){W.unbind(P,ne),W.unbind(Q,le),W.unbind(D,ie),W.unbind(M,re),L&&W.unbind(L,ae),Ue(!1)}function se(e){var t=e,n=pe(),i=ce(),r=de();return!n||r?t=E:!i||e!=y||g.triggerOnTouchEnd&&!g.triggerOnTouchLeave?!i&&e==S&&g.triggerOnTouchLeave&&(t=E):t=S,t}function ue(e,t){var n,i=e.touches;return(ye()||Te())&&(n=fe(e,t,f)),(be()||we())&&n!==!1&&(n=fe(e,t,c)),Le()&&n!==!1?n=fe(e,t,h):Qe()&&n!==!1?n=fe(e,t,p):Me()&&n!==!1&&(n=fe(e,t,d)),t===E&&le(e),t===S&&(i?i.length||le(e):le(e)),n}function fe(t,s,u){var v;if(u==f){if(W.trigger("swipeStatus",[s,R||null,A||0,I||0,Y,V,j]),g.swipeStatus&&(v=g.swipeStatus.call(W,t,s,R||null,A||0,I||0,Y,V,j),v===!1))return!1;if(s==S&&me()){if(clearTimeout(J),clearTimeout(ee),W.trigger("swipe",[R,A,I,Y,V,j]),g.swipe&&(v=g.swipe.call(W,t,R,A,I,Y,V,j),v===!1))return!1;switch(R){case n:W.trigger("swipeLeft",[R,A,I,Y,V,j]),g.swipeLeft&&(v=g.swipeLeft.call(W,t,R,A,I,Y,V,j));break;case i:W.trigger("swipeRight",[R,A,I,Y,V,j]),g.swipeRight&&(v=g.swipeRight.call(W,t,R,A,I,Y,V,j));break;case r:W.trigger("swipeUp",[R,A,I,Y,V,j]),g.swipeUp&&(v=g.swipeUp.call(W,t,R,A,I,Y,V,j));break;case l:W.trigger("swipeDown",[R,A,I,Y,V,j]),g.swipeDown&&(v=g.swipeDown.call(W,t,R,A,I,Y,V,j))}}}if(u==c){if(W.trigger("pinchStatus",[s,q||null,$||0,I||0,Y,H,V]),g.pinchStatus&&(v=g.pinchStatus.call(W,t,s,q||null,$||0,I||0,Y,H,V),v===!1))return!1;if(s==S&&ve())switch(q){case a:W.trigger("pinchIn",[q||null,$||0,I||0,Y,H,V]),g.pinchIn&&(v=g.pinchIn.call(W,t,q||null,$||0,I||0,Y,H,V));break;case o:W.trigger("pinchOut",[q||null,$||0,I||0,Y,H,V]),g.pinchOut&&(v=g.pinchOut.call(W,t,q||null,$||0,I||0,Y,H,V))}}return u==d?(s===E||s===S)&&(clearTimeout(J),clearTimeout(ee),Ce()&&!_e()?(Z=Je(),J=setTimeout(e.proxy(function(){Z=null,W.trigger("tap",[t.target]),g.tap&&(v=g.tap.call(W,t,t.target))},this),g.doubleTapThreshold)):(Z=null,W.trigger("tap",[t.target]),g.tap&&(v=g.tap.call(W,t,t.target)))):u==h?(s===E||s===S)&&(clearTimeout(J),clearTimeout(ee),Z=null,W.trigger("doubletap",[t.target]),g.doubleTap&&(v=g.doubleTap.call(W,t,t.target))):u==p&&(s===E||s===S)&&(clearTimeout(J),Z=null,W.trigger("longtap",[t.target]),g.longTap&&(v=g.longTap.call(W,t,t.target))),v}function ce(){var e=!0;return null!==g.threshold&&(e=A>=g.threshold),e}function de(){var e=!1;return null!==g.cancelThreshold&&null!==R&&(e=Fe(R)-A>=g.cancelThreshold),e}function he(){return null!==g.pinchThreshold?$>=g.pinchThreshold:!0}function pe(){var e;return e=g.maxTimeThreshold&&I>=g.maxTimeThreshold?!1:!0}function ge(e,t){if(g.preventDefaultEvents!==!1)if(g.allowPageScroll===s)e.preventDefault();else{var a=g.allowPageScroll===u;switch(t){case n:(g.swipeLeft&&a||!a&&g.allowPageScroll!=v)&&e.preventDefault();break;case i:(g.swipeRight&&a||!a&&g.allowPageScroll!=v)&&e.preventDefault();break;case r:(g.swipeUp&&a||!a&&g.allowPageScroll!=w)&&e.preventDefault();break;case l:(g.swipeDown&&a||!a&&g.allowPageScroll!=w)&&e.preventDefault();break;case s:}}}function ve(){var e=Se(),t=Ee(),n=he();return e&&t&&n}function we(){return!!(g.pinchStatus||g.pinchIn||g.pinchOut)}function be(){return!(!ve()||!we())}function me(){var e=pe(),t=ce(),n=Se(),i=Ee(),r=de(),l=!r&&i&&n&&t&&e;return l}function Te(){return!!(g.swipe||g.swipeStatus||g.swipeLeft||g.swipeRight||g.swipeUp||g.swipeDown)}function ye(){return!(!me()||!Te())}function Se(){return Y===g.fingers||g.fingers===b||!x}function Ee(){return 0!==V[0].end.x}function xe(){return!!g.tap}function Ce(){return!!g.doubleTap}function Oe(){return!!g.longTap}function ke(){if(null==Z)return!1;var e=Je();return Ce()&&e-Z<=g.doubleTapThreshold}function _e(){return ke()}function Pe(){return(1===Y||!x)&&(isNaN(A)||A<g.threshold)}function De(){return I>g.longTapThreshold&&m>A}function Me(){return!(!Pe()||!xe())}function Le(){return!(!ke()||!Ce())}function Qe(){return!(!De()||!Oe())}function Ae(e){G=Je(),K=e.touches.length+1}function Re(){G=0,K=0}function je(){var e=!1;if(G){var t=Je()-G;t<=g.fingerReleaseThreshold&&(e=!0)}return e}function Ie(){return!(W.data(k+"_intouch")!==!0)}function Ue(e){W&&(e===!0?(W.bind(D,ie),W.bind(M,re),L&&W.bind(L,ae)):(W.unbind(D,ie,!1),W.unbind(M,re,!1),L&&W.unbind(L,ae,!1)),W.data(k+"_intouch",e===!0))}function Ne(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,V[e]=n,n}function He(e){var t=void 0!==e.identifier?e.identifier:0,n=$e(t);return null===n&&(n=Ne(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function $e(e){return V[e]||null}function qe(e,t){e!=s&&(t=Math.max(t,Fe(e)),F[e].distance=t)}function Fe(e){return F[e]?F[e].distance:void 0}function We(){var e={};return e[n]=Xe(n),e[i]=Xe(i),e[r]=Xe(r),e[l]=Xe(l),e}function Xe(e){return{direction:e,distance:0}}function Ye(){return B-z}function Ve(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function ze(e,t){var n=t/e*1;return n.toFixed(2)}function Be(){return 1>H?o:a}function Ge(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Ke(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),l=Math.round(180*r/Math.PI);return 0>l&&(l=360-Math.abs(l)),l}function Ze(e,t){if(nt(e,t))return s;var a=Ke(e,t);return 45>=a&&a>=0?n:360>=a&&a>=315?n:a>=135&&225>=a?i:a>45&&135>a?l:r}function Je(){var e=new Date;return e.getTime()}function et(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function tt(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function nt(e,t){return e.x==t.x&&e.y==t.y}var g=e.extend({},g),_=x||O||!g.fallbackToMouseEvents,P=_?O?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",D=_?O?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",M=_?O?C?"MSPointerUp":"pointerup":"touchend":"mouseup",L=_?O?"mouseleave":null:"mouseleave",Q=O?C?"MSPointerCancel":"pointercancel":"touchcancel",A=0,R=null,j=null,I=0,U=0,N=0,H=1,$=0,q=0,F=null,W=e(t),X="start",Y=0,V={},z=0,B=0,G=0,K=0,Z=0,J=null,ee=null;try{W.bind(P,ne),W.bind(Q,le)}catch(te){e.error("events not supported "+P+","+Q+" on jQuery.swipe")}this.enable=function(){return this.disable(),W.bind(P,ne),W.bind(Q,le),W},this.disable=function(){return oe(),W},this.destroy=function(){oe(),W.data(k,null),W=null},this.option=function(t,n){if("object"==typeof t)g=e.extend(g,t);else if(void 0!==g[t]){if(void 0===n)return g[t];g[t]=n}else{if(!t)return g;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var t="1.6.15",n="left",i="right",r="up",l="down",a="in",o="out",s="none",u="auto",f="swipe",c="pinch",d="tap",h="doubletap",p="longtap",v="horizontal",w="vertical",b="all",m=10,T="start",y="move",S="end",E="cancel",x="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!x,O=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!x,k="TouchSwipe",_={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(t){var n=e(this),i=n.data(k);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(this,arguments);else if(!(i||"object"!=typeof t&&t))return P.apply(this,arguments);return n},e.fn.swipe.version=t,e.fn.swipe.defaults=_,e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:y,PHASE_END:S,PHASE_CANCEL:E},e.fn.swipe.directions={LEFT:n,RIGHT:i,UP:r,DOWN:l,IN:a,OUT:o},e.fn.swipe.pageScroll={NONE:s,HORIZONTAL:v,VERTICAL:w,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:b}}),function(e){function t(e,t,n){var i=this;if(this._fncQueue="undefined"==typeof n?[]:n,this._delayCompleted=!1,this._$real=e,"number"==typeof t&&t>=0&&1/0>t)this.timeoutKey=window.setTimeout(function(){i._performDummyQueueActions()},t);else if(null!==t&&"object"==typeof t&&"function"==typeof t.promise)t.then(function(){i._performDummyQueueActions()});else{if("string"!=typeof t)return e;e.one(t,function(){i._performDummyQueueActions()})}}t.prototype._addToQueue=function(e,t){return this._fncQueue.unshift({fnc:e,arg:t}),this._delayCompleted?this._performDummyQueueActions():this},t.prototype._performDummyQueueActions=function(){this._delayCompleted=!0;for(var e;this._fncQueue.length>0;){if(e=this._fncQueue.pop(),"wait"===e.fnc)return e.arg.push(this._fncQueue),this._$real=this._$real[e.fnc].apply(this._$real,e.arg);this._$real=this._$real[e.fnc].apply(this._$real,e.arg)}return this},e.fn.wait=function(e,n){return new t(this,e,n)};for(var n in e.fn)"function"==typeof e.fn[n]&&e.fn.hasOwnProperty(n)&&(t.prototype[n]=function(e){return function(){var t=Array.prototype.slice.call(arguments);return this._addToQueue(e,t)}}(n))}(jQuery),function(e){e.fn.brixBar=function(t){function u(e,t,r,l){if("move"!=t||"left"!=r&&"right"!=r)"cancel"==t?("left"==n.position&&("right"==r&&i.hasClass("docked")?d("start"):"left"==r&&d("end")),"right"==n.position&&("left"==r?h("start"):"right"==r&&h("end"))):"end"==t&&("left"==n.position&&("right"==r&&i.hasClass("docked")?d("end"):"left"==r&&d("start")),"right"==n.position&&("left"==r?h("end"):"right"==r&&h("start")));else{var a=50;"left"==n.position&&("right"==r&&i.hasClass("docked")?p(0+l,a):"left"==r&&p(n.width-l,a)),"right"==n.position&&("left"==r&&i.hasClass("docked")?p(-1*(0+l),a):"right"==r&&p(-1*(n.width-l),a))}}function f(){"left"==n.position&&i.hasClass("docked")&&d("end"),"right"==n.position&&i.hasClass("docked")&&h("end")}function c(){"left"==n.position&&i.hasClass("open")&&d("start"),"right"==n.position&&i.hasClass("open")&&h("start")}function d(t){"start"==t?(p(0,n.speed),i.addClass("docked"),i.removeClass("open"),e(".sidebar-content-cover").wait(n.speed).css("display","none"),n.disableContentScroll&&e("body").removeClass("sidebarPreventScroll")):(p(n.width,n.speed),i.addClass("open"),i.removeClass("docked"),n.disableContentScroll&&e("body").addClass("sidebarPreventScroll")),i.removeClass("moving")}function h(t){"start"==t?(p(0,n.speed),i.addClass("docked"),i.removeClass("open"),e(".sidebar-content-cover").wait(n.speed).css("display","none"),n.disableContentScroll&&e("body").removeClass("sidebarPreventScroll")):(p(-1*n.width,n.speed),i.addClass("open"),i.removeClass("docked"),n.disableContentScroll&&e("body").addClass("sidebarPreventScroll")),i.removeClass("moving")}function p(t,r){if(i.addClass("moving"),i.css("transition-duration",(r/1e3).toFixed(2)+"s"),t<=n.width&&t>=-1*n.width)var l=t;else if(t>=n.width)var l=n.width;else var l=-1*n.width;i.css("transform","translate("+l+"px,0)");var a=t/(n.width/100)/100;a=0>a?-1*a:a,e(".sidebar-content-cover").css({display:"block",opacity:a})}var i,r,l,a,o,n=e.extend({speed:500,width:300,handleWidth:15,button:"#sidebar-toggle",disableContentScroll:!0,position:"left"},t),s={triggerOnTouchEnd:!0,swipeStatus:u,allowPageScroll:"auto",threshold:n.width/2};i=this,i.addClass("docked"),i.addClass(n.position),"right"==n.position?(l=-1*n.width,r="auto",a="auto",o=0):(r=-1*n.width,l="auto",a=0,o="auto"),i.css({width:n.width+n.handleWidth,left:r,right:l}),i.children("nav").css({width:n.width,left:a,right:o}),e('<div class="sidebar-content-cover"></div>').insertAfter(i),i.swipe(s),e(n.button).on("click",function(){f()}),e("#sidebar-close").on("click",function(){c()})}}(jQuery);