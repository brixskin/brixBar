!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function _(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=s),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),i=n.data(O);i||(i=new M(this,t),n.data(O,i))})}function M(t,g){function ne(t){if(!(Ie()||e(t.target).closest(g.excludedElements,F).length>0)){var i,n=t.originalEvent?t.originalEvent:t,r=n.touches,l=r?r[0]:n;return V=y,r?X=r.length:g.preventDefaultEvents!==!1&&t.preventDefault(),A=0,R=null,j=null,$=null,I=0,U=0,N=0,W=1,H=0,q=Fe(),Re(),Ne(0,l),!r||X===g.fingers||g.fingers===m||we()?(z=Je(),2==X&&(Ne(1,r[1]),U=N=Ye(Y[0].start,Y[1].start)),(g.swipeStatus||g.pinchStatus)&&(i=ue(n,V))):i=!1,i===!1?(V=S,ue(n,V),i):(g.hold&&(ee=setTimeout(e.proxy(function(){F.trigger("hold",[n.target]),g.hold&&(i=g.hold.call(F,n,n.target))},this),g.longTapThreshold)),Ue(!0),null)}}function ie(e){var t=e.originalEvent?e.originalEvent:e;if(V!==E&&V!==S&&!je()){var n,i=t.touches,r=i?i[0]:t,l=We(r);if(B=Je(),i&&(X=i.length),g.hold&&clearTimeout(ee),V=b,2==X&&(0==U?(Ne(1,i[1]),U=N=Ye(Y[0].start,Y[1].start)):(We(i[1]),N=Ye(Y[0].end,Y[1].end),$=Be(Y[0].end,Y[1].end)),W=ze(U,N),H=Math.abs(U-N)),X===g.fingers||g.fingers===m||!i||we()){if(R=Ze(l.start,l.end),j=Ze(l.last,l.end),ge(e,j),A=Ge(l.start,l.end),I=Xe(),$e(R,A),n=ue(t,V),!g.triggerOnTouchEnd||g.triggerOnTouchLeave){var o=!0;if(g.triggerOnTouchLeave){var a=et(this);o=tt(l.end,a)}!g.triggerOnTouchEnd&&o?V=se(b):g.triggerOnTouchLeave&&!o&&(V=se(E)),(V==S||V==E)&&ue(t,V)}}else V=S,ue(t,V);n===!1&&(V=S,ue(t,V))}}function re(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;if(n){if(n.length&&!je())return Ae(t),!0;if(n.length&&je())return!0}return je()&&(X=K),B=Je(),I=Xe(),de()||!ce()?(V=S,ue(t,V)):g.triggerOnTouchEnd||g.triggerOnTouchEnd===!1&&V===b?(g.preventDefaultEvents!==!1&&e.preventDefault(),V=E,ue(t,V)):!g.triggerOnTouchEnd&&xe()?(V=E,fe(t,V,d)):V===b&&(V=S,ue(t,V)),Ue(!1),null}function le(){X=0,B=0,z=0,U=0,N=0,W=1,Re(),Ue(!1)}function oe(e){var t=e.originalEvent?e.originalEvent:e;g.triggerOnTouchLeave&&(V=se(E),ue(t,V))}function ae(){F.unbind(_,ne),F.unbind(Q,le),F.unbind(M,ie),F.unbind(L,re),P&&F.unbind(P,oe),Ue(!1)}function se(e){var t=e,n=pe(),i=ce(),r=de();return!n||r?t=S:!i||e!=b||g.triggerOnTouchEnd&&!g.triggerOnTouchLeave?!i&&e==E&&g.triggerOnTouchLeave&&(t=S):t=E,t}function ue(e,t){var n,i=e.touches;return(be()||ye())&&(n=fe(e,t,f)),(me()||we())&&n!==!1&&(n=fe(e,t,c)),Pe()&&n!==!1?n=fe(e,t,h):Qe()&&n!==!1?n=fe(e,t,p):Le()&&n!==!1&&(n=fe(e,t,d)),t===S&&le(e),t===E&&(i?i.length||le(e):le(e)),n}function fe(t,s,u){var v;if(u==f){if(F.trigger("swipeStatus",[s,R||null,A||0,I||0,X,Y,j]),g.swipeStatus&&(v=g.swipeStatus.call(F,t,s,R||null,A||0,I||0,X,Y,j),v===!1))return!1;if(s==E&&Te()){if(clearTimeout(J),clearTimeout(ee),F.trigger("swipe",[R,A,I,X,Y,j]),g.swipe&&(v=g.swipe.call(F,t,R,A,I,X,Y,j),v===!1))return!1;switch(R){case n:F.trigger("swipeLeft",[R,A,I,X,Y,j]),g.swipeLeft&&(v=g.swipeLeft.call(F,t,R,A,I,X,Y,j));break;case i:F.trigger("swipeRight",[R,A,I,X,Y,j]),g.swipeRight&&(v=g.swipeRight.call(F,t,R,A,I,X,Y,j));break;case r:F.trigger("swipeUp",[R,A,I,X,Y,j]),g.swipeUp&&(v=g.swipeUp.call(F,t,R,A,I,X,Y,j));break;case l:F.trigger("swipeDown",[R,A,I,X,Y,j]),g.swipeDown&&(v=g.swipeDown.call(F,t,R,A,I,X,Y,j))}}}if(u==c){if(F.trigger("pinchStatus",[s,$||null,H||0,I||0,X,W,Y]),g.pinchStatus&&(v=g.pinchStatus.call(F,t,s,$||null,H||0,I||0,X,W,Y),v===!1))return!1;if(s==E&&ve())switch($){case o:F.trigger("pinchIn",[$||null,H||0,I||0,X,W,Y]),g.pinchIn&&(v=g.pinchIn.call(F,t,$||null,H||0,I||0,X,W,Y));break;case a:F.trigger("pinchOut",[$||null,H||0,I||0,X,W,Y]),g.pinchOut&&(v=g.pinchOut.call(F,t,$||null,H||0,I||0,X,W,Y))}}return u==d?(s===S||s===E)&&(clearTimeout(J),clearTimeout(ee),Ce()&&!De()?(Z=Je(),J=setTimeout(e.proxy(function(){Z=null,F.trigger("tap",[t.target]),g.tap&&(v=g.tap.call(F,t,t.target))},this),g.doubleTapThreshold)):(Z=null,F.trigger("tap",[t.target]),g.tap&&(v=g.tap.call(F,t,t.target)))):u==h?(s===S||s===E)&&(clearTimeout(J),clearTimeout(ee),Z=null,F.trigger("doubletap",[t.target]),g.doubleTap&&(v=g.doubleTap.call(F,t,t.target))):u==p&&(s===S||s===E)&&(clearTimeout(J),Z=null,F.trigger("longtap",[t.target]),g.longTap&&(v=g.longTap.call(F,t,t.target))),v}function ce(){var e=!0;return null!==g.threshold&&(e=A>=g.threshold),e}function de(){var e=!1;return null!==g.cancelThreshold&&null!==R&&(e=qe(R)-A>=g.cancelThreshold),e}function he(){return null!==g.pinchThreshold?H>=g.pinchThreshold:!0}function pe(){var e;return e=g.maxTimeThreshold&&I>=g.maxTimeThreshold?!1:!0}function ge(e,t){if(g.preventDefaultEvents!==!1)if(g.allowPageScroll===s)e.preventDefault();else{var o=g.allowPageScroll===u;switch(t){case n:(g.swipeLeft&&o||!o&&g.allowPageScroll!=v)&&e.preventDefault();break;case i:(g.swipeRight&&o||!o&&g.allowPageScroll!=v)&&e.preventDefault();break;case r:(g.swipeUp&&o||!o&&g.allowPageScroll!=w)&&e.preventDefault();break;case l:(g.swipeDown&&o||!o&&g.allowPageScroll!=w)&&e.preventDefault();break;case s:}}}function ve(){var e=Ee(),t=Se(),n=he();return e&&t&&n}function we(){return!!(g.pinchStatus||g.pinchIn||g.pinchOut)}function me(){return!(!ve()||!we())}function Te(){var e=pe(),t=ce(),n=Ee(),i=Se(),r=de(),l=!r&&i&&n&&t&&e;return l}function ye(){return!!(g.swipe||g.swipeStatus||g.swipeLeft||g.swipeRight||g.swipeUp||g.swipeDown)}function be(){return!(!Te()||!ye())}function Ee(){return X===g.fingers||g.fingers===m||!x}function Se(){return 0!==Y[0].end.x}function xe(){return!!g.tap}function Ce(){return!!g.doubleTap}function ke(){return!!g.longTap}function Oe(){if(null==Z)return!1;var e=Je();return Ce()&&e-Z<=g.doubleTapThreshold}function De(){return Oe()}function _e(){return(1===X||!x)&&(isNaN(A)||A<g.threshold)}function Me(){return I>g.longTapThreshold&&T>A}function Le(){return!(!_e()||!xe())}function Pe(){return!(!Oe()||!Ce())}function Qe(){return!(!Me()||!ke())}function Ae(e){G=Je(),K=e.touches.length+1}function Re(){G=0,K=0}function je(){var e=!1;if(G){var t=Je()-G;t<=g.fingerReleaseThreshold&&(e=!0)}return e}function Ie(){return!(F.data(O+"_intouch")!==!0)}function Ue(e){F&&(e===!0?(F.bind(M,ie),F.bind(L,re),P&&F.bind(P,oe)):(F.unbind(M,ie,!1),F.unbind(L,re,!1),P&&F.unbind(P,oe,!1)),F.data(O+"_intouch",e===!0))}function Ne(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Y[e]=n,n}function We(e){var t=void 0!==e.identifier?e.identifier:0,n=He(t);return null===n&&(n=Ne(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function He(e){return Y[e]||null}function $e(e,t){e!=s&&(t=Math.max(t,qe(e)),q[e].distance=t)}function qe(e){return q[e]?q[e].distance:void 0}function Fe(){var e={};return e[n]=Ve(n),e[i]=Ve(i),e[r]=Ve(r),e[l]=Ve(l),e}function Ve(e){return{direction:e,distance:0}}function Xe(){return B-z}function Ye(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function ze(e,t){var n=t/e*1;return n.toFixed(2)}function Be(){return 1>W?a:o}function Ge(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Ke(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),l=Math.round(180*r/Math.PI);return 0>l&&(l=360-Math.abs(l)),l}function Ze(e,t){if(nt(e,t))return s;var o=Ke(e,t);return 45>=o&&o>=0?n:360>=o&&o>=315?n:o>=135&&225>=o?i:o>45&&135>o?l:r}function Je(){var e=new Date;return e.getTime()}function et(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function tt(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function nt(e,t){return e.x==t.x&&e.y==t.y}var g=e.extend({},g),D=x||k||!g.fallbackToMouseEvents,_=D?k?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",M=D?k?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",L=D?k?C?"MSPointerUp":"pointerup":"touchend":"mouseup",P=D?k?"mouseleave":null:"mouseleave",Q=k?C?"MSPointerCancel":"pointercancel":"touchcancel",A=0,R=null,j=null,I=0,U=0,N=0,W=1,H=0,$=0,q=null,F=e(t),V="start",X=0,Y={},z=0,B=0,G=0,K=0,Z=0,J=null,ee=null;try{F.bind(_,ne),F.bind(Q,le)}catch(te){e.error("events not supported "+_+","+Q+" on jQuery.swipe")}this.enable=function(){return this.disable(),F.bind(_,ne),F.bind(Q,le),F},this.disable=function(){return ae(),F},this.destroy=function(){ae(),F.data(O,null),F=null},this.option=function(t,n){if("object"==typeof t)g=e.extend(g,t);else if(void 0!==g[t]){if(void 0===n)return g[t];g[t]=n}else{if(!t)return g;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var t="1.6.15",n="left",i="right",r="up",l="down",o="in",a="out",s="none",u="auto",f="swipe",c="pinch",d="tap",h="doubletap",p="longtap",v="horizontal",w="vertical",m="all",T=10,y="start",b="move",E="end",S="cancel",x="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!x,k=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!x,O="TouchSwipe",D={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(t){var n=e(this),i=n.data(O);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(this,arguments);else if(!(i||"object"!=typeof t&&t))return _.apply(this,arguments);return n},e.fn.swipe.version=t,e.fn.swipe.defaults=D,e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:b,PHASE_END:E,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:n,RIGHT:i,UP:r,DOWN:l,IN:o,OUT:a},e.fn.swipe.pageScroll={NONE:s,HORIZONTAL:v,VERTICAL:w,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:m}}),function(e){function t(e,t,n){var i=this;if(this._fncQueue="undefined"==typeof n?[]:n,this._delayCompleted=!1,this._$real=e,"number"==typeof t&&t>=0&&1/0>t)this.timeoutKey=window.setTimeout(function(){i._performDummyQueueActions()},t);else if(null!==t&&"object"==typeof t&&"function"==typeof t.promise)t.then(function(){i._performDummyQueueActions()});else{if("string"!=typeof t)return e;e.one(t,function(){i._performDummyQueueActions()})}}t.prototype._addToQueue=function(e,t){return this._fncQueue.unshift({fnc:e,arg:t}),this._delayCompleted?this._performDummyQueueActions():this},t.prototype._performDummyQueueActions=function(){this._delayCompleted=!0;for(var e;this._fncQueue.length>0;){if(e=this._fncQueue.pop(),"wait"===e.fnc)return e.arg.push(this._fncQueue),this._$real=this._$real[e.fnc].apply(this._$real,e.arg);this._$real=this._$real[e.fnc].apply(this._$real,e.arg)}return this},e.fn.wait=function(e,n){return new t(this,e,n)};for(var n in e.fn)"function"==typeof e.fn[n]&&e.fn.hasOwnProperty(n)&&(t.prototype[n]=function(e){return function(){var t=Array.prototype.slice.call(arguments);return this._addToQueue(e,t)}}(n))}(jQuery),function(e){e.fn.brixBar=function(t){function f(e,t,r,l){if("move"!=t||"left"!=r&&"right"!=r)"cancel"==t?("left"==n.position&&("right"==r&&i.hasClass("docked")?h("start"):"left"==r&&h("end")),"right"==n.position&&("left"==r?p("start"):"right"==r&&p("end"))):"end"==t&&("left"==n.position&&("right"==r&&i.hasClass("docked")?h("end"):"left"==r&&h("start")),"right"==n.position&&("left"==r?p("end"):"right"==r&&p("start")));else{var o=0;"left"==n.position&&("right"==r&&i.hasClass("docked")?y(0+l,o):"left"==r&&y(n.width-l,o)),"right"==n.position&&("left"==r&&i.hasClass("docked")?y(-1*(0+l),o):"right"==r&&y(-1*(n.width-l),o))}}function c(){"left"==n.position&&i.hasClass("docked")&&h("end"),"right"==n.position&&i.hasClass("docked")&&p("end")}function d(){"left"==n.position&&i.hasClass("open")&&h("start"),"right"==n.position&&i.hasClass("open")&&p("start")}function h(t){"start"==t?(y(0,n.speed),i.css({width:n.handleWidth}),i.addClass("docked"),i.removeClass("open"),e(".sidebar-content-cover").wait(n.speed).css("display","none"),n.disableContentScroll&&T()):(y(n.width,n.speed),i.css({width:n.width+n.handleWidth}),i.addClass("open"),i.removeClass("docked"),n.disableContentScroll&&m()),i.removeClass("moving")}function p(t){"start"==t?(y(0,n.speed),i.css({width:n.handleWidth}),i.addClass("docked"),i.removeClass("open"),e(".sidebar-content-cover").wait(n.speed).css("display","none"),n.disableContentScroll&&T()):(y(-1*n.width,n.speed),i.css({width:n.width+n.handleWidth}),i.addClass("open"),i.removeClass("docked"),n.disableContentScroll&&m()),i.removeClass("moving")}function v(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function w(e){return g[e.keyCode]?(v(e),!1):void 0}function m(){r.addEventListener&&r.addEventListener("DOMMouseScroll",v,!1),r.onwheel=v,r.onmousewheel=document.onmousewheel=v,r.ontouchmove=v,document.onkeydown=w}function T(){r.removeEventListener&&r.removeEventListener("DOMMouseScroll",v,!1),r.onmousewheel=document.onmousewheel=null,r.onwheel=null,r.ontouchmove=null,document.onkeydown=null}function y(t,r){if(i.addClass("moving"),i.children("nav").css("transition-property","transform"),i.children("nav").css("transition-duration",(r/1e3).toFixed(4)+"s"),i.children("nav").css("transition-timing-function","ease"),t<=n.width&&t>=-1*n.width)var l=t;else if(t>=n.width)var l=n.width;else var l=-1*n.width;i.children("nav").css("transform","translate3D("+l+"px,0,0)");var o=t/(n.width/100)/100;o=0>o?-1*o:o,e(".sidebar-content-cover").css({display:"block",opacity:o})}var i,r,l,o,a,s,n=e.extend({speed:500,width:300,handleWidth:15,button:"#sidebar-toggle",contentContainer:"main",disableContentScroll:!0,position:"left"},t),u={triggerOnTouchEnd:!0,swipeStatus:f,allowPageScroll:"auto",threshold:n.width/2};i=this,i.addClass("docked"),i.addClass(n.position),r=e(n.contentContainer),"right"==n.position?(o=0,l="auto",a="auto",s=0):(l=0,o="auto",a=-1*n.width,s="auto"),i.css({width:n.handleWidth,left:l,right:o}),i.children("nav").css({width:n.width,left:a,right:s}),e('<div class="sidebar-content-cover"></div>').insertAfter(i),i.swipe(u),e(n.button).on("click",function(){c()}),e("#sidebar-close").on("click",function(){d()}),e(".sidebar-content-cover").on("click",function(){d()});var g={37:1,38:1,39:1,40:1}}}(jQuery);